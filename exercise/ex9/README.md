# Base environment
Base implementation of OAuth v2. This implementation is not expected to be vulnerable.

## Setup
```
$ git clone https://github.com/melonattacker/oauth-exploit-lab.git
$ cd oauth-exploit-lab/base
$ docker-compose up -d
```

### URL
|  target  |  URL  |
| ---- | ---- |
|  client  |  `http://localhost:10000`  |
|  authorization server  |  `http://localhost:10001`  |
|  protected resource  |  `http://localhost:10002`  |
|  crawler  |  `http://localhost:10003`  |

### Account
|  username  |  password  |
| ---- | ---- |
|  bob  |  hoge  |
|  tom  |  huga  |

## Normal use case
Access to the client page(`http://localhost:10000`) and login as user bob or tom. 
<img width="1178" alt="スクリーンショット 2022-09-14 23 07 07" src="https://user-images.githubusercontent.com/41631269/190177053-a5d99a60-0841-444e-93a5-3aefdd14be67.png">
You will be redirected to the client home page. Press `Get OAuth Token` button.
<img width="1188" alt="スクリーンショット 2022-09-14 23 10 44" src="https://user-images.githubusercontent.com/41631269/190177829-9a5c471e-f1d0-4fdf-b4c0-ed41f055b912.png">
You will be redirected to the authorization server(`http://localhost:10001`). Press `Approve` button to approve the client.
<img width="1164" alt="スクリーンショット 2022-09-14 23 12 05" src="https://user-images.githubusercontent.com/41631269/190178361-2c158c4d-886b-42f8-be8e-46fe639b725f.png">
You will be redirected to the client page and access token will be issued. Press `Get Protected Resource` button to access the resource.
<img width="1183" alt="スクリーンショット 2022-09-14 23 13 44" src="https://user-images.githubusercontent.com/41631269/190178841-98f9019f-8efe-4e88-aafe-5f075a04cc9a.png">
The retrieved resource is displayed on the page.
<img width="1155" alt="スクリーンショット 2022-09-14 23 15 18" src="https://user-images.githubusercontent.com/41631269/190179059-a0ec97a8-1960-47f4-8ed5-2f8e93217d37.png">
Press the Refresh button to refresh the access token.
<img width="1161" alt="スクリーンショット 2022-09-14 23 16 52" src="https://user-images.githubusercontent.com/41631269/190179620-ddcfcf37-11ff-49cb-b4c8-2c3dc2fca990.png">
<img width="1161" alt="スクリーンショット 2022-09-14 23 19 26" src="https://user-images.githubusercontent.com/41631269/190180146-4f55e5fb-9d9f-457e-b215-25ac0b668982.png">
